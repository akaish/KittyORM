---
title: "Lesson5 tab 2 DB schema"
date: 2018-11-15T06:50:21+03:00
draft: false
layout: "lesson"
---
### Create schema script generated by KittyORM for database `mig` version `2`
{{< highlight sql >}}
CREATE TABLE IF NOT EXISTS mig_one (id INTEGER NOT NULL PRIMARY KEY ASC, creation_date TEXT NOT NULL DEFAULT  CURRENT_DATE , default_integer INTEGER DEFAULT 228, current_timestamp INTEGER);

CREATE INDEX IF NOT EXISTS m1_di_index ON mig_one (default_integer);

CREATE TABLE IF NOT EXISTS mig_two (id INTEGER NOT NULL PRIMARY KEY ASC, mig_one_reference INTEGER REFERENCES mig_one (id) ON UPDATE CASCADE ON DELETE CASCADE, some_animal TEXT);

CREATE INDEX IF NOT EXISTS m2_sa_index ON mig_two (some_animal);
{{< /highlight >}} 
### Drop schema script generated by KittyORM for database `mig` version `2`
{{< highlight sql >}}
DROP TABLE IF EXISTS mig_one;

DROP TABLE IF EXISTS mig_two;
{{< /highlight >}} 
### Migration script generated by KittyORM for database `mig` from version `1` to version `2` (DC migrator)
{{< highlight sql >}}
DROP TABLE IF EXISTS mig_one;

DROP TABLE IF EXISTS mig_two;

CREATE TABLE IF NOT EXISTS mig_one (id INTEGER NOT NULL PRIMARY KEY ASC, creation_date TEXT NOT NULL DEFAULT  CURRENT_DATE , default_integer INTEGER DEFAULT 228, current_timestamp INTEGER);

CREATE INDEX IF NOT EXISTS m1_di_index ON mig_one (default_integer);

CREATE TABLE IF NOT EXISTS mig_two (id INTEGER NOT NULL PRIMARY KEY ASC, mig_one_reference INTEGER REFERENCES mig_one (id) ON UPDATE CASCADE ON DELETE CASCADE, some_animal TEXT);

CREATE INDEX IF NOT EXISTS m2_sa_index ON mig_two (some_animal);
{{< /highlight >}} 

This page is a part of KittyORM project (KittyORM Documentation) and licensed under a Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/4.0/ or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, US., more information at https://akaish.github.io/KittyORMPages/license/
