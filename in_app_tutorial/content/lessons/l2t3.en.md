---
title: "Lesson2 Tab 3: delete entity"
date: 2018-11-15T06:50:21+03:00
draft: false
layout: "lesson"
---
### Deleting entities with KittyORM
You have two ways to delete entities in KittyORM:

* Delete associated with model row by calling `KittyMapper.delete(M model)` or `KittyMapper.delete(List<M> models)` methods:
{{< highlight java "linenos=inline, linenostart=1">}}
// Initializing database instance
BasicDatabase db = new BasicDatabase(getContext());
// Getting mapper instance
RandomMapper mapper = (RandomMapper) db.getMapper(RandomModel.class);
// Getting existing model from database (assuming that 0l model exists)
RandomModel toDelete = mapper.findByIPK(0l);
// Deleting model
long rowsAffected = mapper.delete(toDelete);
{{< /highlight >}}

* Delete all rows in a table that suit provided `WHERE` clause generated with `SQLiteConditionBuilder.class`:
{{< highlight java "linenos=inline, linenostart=1">}}
// Deleting by random_int range
BasicDatabase db = new BasicDatabase(getContext());
// Getting mapper instance
RandomMapper mapper = (RandomMapper) db.getMapper(RandomModel.class);
// Creating clause for deletion
SQLiteCondition condition = new SQLiteConditionBuilder()
                .addField("random_int")
                .addSQLOperator(GREATER_OR_EQUAL)
                .addValue(0)
                .addSQLOperator(AND)
                .addField("random_int")
                .addSQLOperator(LESS_OR_EQUAL)
                .addValue(10000)
                .build();
// Deleting with generated clause
mapper.deleteByWhere(condition);
{{< /highlight >}}

### Closer look on `SQLiteConditionBuilder.class`
`SQLiteConditionBuilder.class` is a builder for generating `WHERE` clauses within KittyORM. It is really simple to use and it is designed to generate `WHERE` clauses in most natural for SQLite way: just add column names, SQLite operators and values for your clause in an order they should appear in SQLite clause. For example, clause `WHERE a_column = 'a' AND (b_column > 0 OR BETWEEN 10 AND 20)` would be generated by following code:
{{< highlight java "linenos=inline, linenostart=1">}}
SQLiteCondition condition = new SQLiteConditionBuilder()
            .addField("a_column")
            .addSQLOperator(EQUAL)
            .addValue("a")
            .addSQLOperator(AND)
            .addSQLOperator(OPEN_SUBC)
            .addField("b_column")
            .addSQLOperator(GREATER_THAN)
            .addValue(0)
            .addSQLOperator(OR)
            .addSQLOperator(BETWEEN)
            .addValue(10)
            .addSQLOperator(AND)
            .addValue(20)
            .addSQLOperator(CLOSE_SUBC)
            .build();
{{< /highlight >}}
All supported by KittyORM SQLite operators presented at `net.akaish.kitty.orm.query.conditions.SQLiteOperator` enumeration.

This page is a part of KittyORM project (KittyORM Documentation) and licensed under a Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/4.0/ or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, US., more information at https://akaish.github.io/KittyORMPages/license/
